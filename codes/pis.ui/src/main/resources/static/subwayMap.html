<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Subway Map</title>
    <script src="../vendors/jquery/dist/jquery.min.js"></script>
   
    <style type="text/css">
    body
    {
        font-family: Verdana;
        font-size: 8pt;
    }

    /* The main DIV for the map */
    .subway-map
    {
        margin: 0;
        width: 500px;
        height:410px;
        background-color: white;
    }

    /* Text labels */
    .text
    {
        text-decoration: none;
        color: black;
    }

    #legend
    {
        float: left;
        width: 250px;
        height:400px;
    }

    #legend div
    {
        height: 25px;
    }

    #legend span
    {
        margin: 5px 5px 5px 0;
    }
    .subway-map span
    {
        margin: 5px 5px 5px 0;
    }

    </style>
</head>
<body>
<!-- <div class="subway-map" data-columns="12" data-rows="10" data-cellSize="40" data-legendId="legend" data-textClass="text" data-gridNumbers="true" data-grid="false" data-lineWidth="8">
        <ul data-color="#ff4db2" data-label="jQuery Widgets">          
            <li data-coords="2,2" data-marker="interchange"><a href="http://jqueryui.com/demos/accordion/">Accordion</a></li>  
            <li data-coords="4,2"><a href="http://jqueryui.com/demos/autocomplete/">Auto\ncomplete</a></li>  
            <li data-coords="5,3" data-dir="E"></li>  
            <li data-coords="5,7" data-marker="@station" data-labelPos="W"><a href="http://jqueryui.com/demos/slider/">Slider</a></li> marker-only node  
            <li data-coords="6,4" data-dir="S" data-marker="interchange" data-markerInfo="h5"><a href="http://jqueryui.com/demos/datepicker/">Date\npicker</a></li>  
            <li data-coords="7,4"></li>  
            <li data-coords="7.15,8" data-marker="@station" data-labelPos="E"><a href="http://jqueryui.com/demos/dialog/">Dialog</a></li>  marker-only node, moved to the right by 0.15
            <li data-coords="8,3" data-dir="E"></li>  
            <li data-coords="8,2"></li>  
            <li data-coords="9,1" data-dir="N"></li>  
            <li data-coords="10,2" data-dir="E" data-marker="interchange" data-labelPos="E"><a href="http://jqueryui.com/demos/button/">Button</a></li>  
            <li data-coords="10,5"></li>  
            <li data-coords="9,6" data-dir="S" data-marker="station"><a href="http://jqueryui.com/demos/progressbar/">Progress\nbar</a></li>  
            <li data-coords="6,9"></li>  
            <li data-coords="5,8" data-dir="W"></li>  
            <li data-coords="5,7"></li>  
            <li data-coords="4,6" data-dir="N"></li>  
            <li data-coords="2,6"><a href="http://jqueryui.com/demos/tabs/">Tabs</a></li>  
        </ul>

        <ul data-color="#00ff00" data-label="jQuery Interactions" data-shiftCoords="0,-1">      
            <li data-coords="2,6"></li> 
            <li data-coords="2,5.9" data-marker="@interchange"> </li> marker-only node, moved up by 0.10
            <li data-coords="5,6" data-marker="@station" data-labelPos="N"><a href="http://jqueryui.com/demos/selectable/">Selectable</a></li>  
            <li data-coords="6,6"></li>  
            <li data-coords="7,3" data-marker="@station" data-labelPos="W"><a href="http://jqueryui.com/demos/resizeable/">Resizeable</a></li>  
            <li data-coords="7,5" data-dir="E" data-marker="station" data-labelPos="E"><a href="http://jqueryui.com/demos/droppable/">Droppable</a></li>  
            <li data-coords="7,1" data-marker="interchange" data-labelPos="W"><a href="http://jqueryui.com/demos/draggable/">Draggable</a></li>  
        </ul>

    </div> -->
    <div id="legend"></div>
    <script type="text/javascript" src="./subway/jquery.subwayMap-0.5.0.js"></script>
    <script type="text/javascript">
    	/* $(function(){
    		
    	}) */
       $(document).ready(function(){
    	   $.getJSON("./subway/subway_data.json",function(data){
	   			var map=$("<div></div>").addClass('subway-map')
	   			.attr("data-columns",data["data-columns"])
	   			.attr("data-rows",data["data-rows"])
	   			.attr("data-cellSize",data["data-cellSize"])
	   			.attr("data-legendId",data["data-legendId"])
	   			.attr("data-textClass",data["data-textClass"])
	   			.attr("data-gridNumbers",data["data-gridNumbers"])
	   			.attr("data-gridNumbers",data["data-gridNumbers"])
	   			.attr("data-grid",data["data-grid"])
	   			.attr("data-lineWidth",data["data-lineWidth)"]);
	   			$.each(data["lines"],function(index, line){
	   				var ul = $("<ul></ul>").attr("data-color",line["data-color"])
								.attr("data-label",line["data-label"])
								.attr("data-shiftCoords",line["data-shiftCoords"])
	   				$(map).prepend(ul)
	   				$.each(line["nodes"],function(nodeIndex,node){
	   					var li = $("<li></li>")
							.attr("data-coords",node["data-coords"])
   							.attr("data-labelPos",node["data-labelPos"])
   							.attr("data-marker",node["data-marker"])
   							.attr("data-dir",node["data-dir"])
   							.attr("data-markerInfo",node["data-markerInfo"])
   							if(node['link']){
   								var link = $("<a></a>").attr("href",node['link']['href']).html(node['link']['title'])
   								$(li).append(link)
   							}
   						$(ul).append(li)
	   				});
	   			});
	   			$('#legend').before(map)
	   			$(".subway-map").subwayMap({ debug: true });
   		})
       })
</script>

<script type="text/javascript">

//$(".subway-map").subwayMap('init');
//$(function () { $("[data-toggle='tooltip']").tooltip(); });
</script>
</body>
<!-- 
<link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
</html>
